TABLAS:
create table categoria (
	id_categoria int PRIMARY KEY AUTO_INCREMENT,
    nombre_categor√≠a varchar(250),
    descripcion varchar(255),
    imagen varchar(255),
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    estado ENUM('ACTIVO', 'INACTIVO') DEFAULT 'ACTIVO'
);

create table estado_activo (
	id_estado int PRIMARY KEY AUTO_INCREMENT,
    nombre_estado varchar(50),
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

create table activo (
	id_activo INT PRIMARY KEY AUTO_INCREMENT,
    id_categoria int,
    marca varchar(150),
    modelo varchar(150),
    serie varchar(150),
    cod_patrimonial varchar(150),
    id_sede int,
    id_dependencia int,
    id_administrativo int,
	fotografia varchar(200),
    id_estado int,
    observacion varchar(200),
    fecha_adquisicion date,
    qr_code varchar(255),
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    valor_precio varchar(20),
    CONSTRAINT fk_activo_categoria FOREIGN KEY (id_categoria) REFERENCES categoria(id_categoria),
    CONSTRAINT fk_activo_sede FOREIGN KEY (id_sede) REFERENCES sede(id_sede),
    CONSTRAINT fk_activo_dependencia FOREIGN KEY (id_dependencia) REFERENCES dependencia(id_dependencia),
    CONSTRAINT fk_activo_administrativo FOREIGN KEY (id_administrativo) REFERENCES administrativo(id_administrativo),
    CONSTRAINT fk_activo_estado FOREIGN KEY (id_estado) REFERENCES estado_activo(id_estado)
    
);

create table movimiento (
	id_movimiento int PRIMARY KEY AUTO_INCREMENT,
    id_activo int,
    tipo_mov ENUM('PRESTAMO','TRANSFERENCIA'),
    id_administrativo int,
    sede_origen_id int,
    sede_destino_id int,
    dependencia_origen_id int,
    dependencia_destino_id int,
    motivo varchar(255),
    fecha_mov timestamp DEFAULT CURRENT_TIMESTAMP,
    informe_doc varchar(200),
    tiempo_mov varchar(20),
    CONSTRAINT fk_movimiento_activo 
    FOREIGN KEY (id_activo) REFERENCES activo(id_activo),
    CONSTRAINT fk_movimiento_administrativo 
    FOREIGN KEY (id_administrativo) REFERENCES administrativo(id_administrativo),
    CONSTRAINT fk_movsedeorigen_sede
    FOREIGN KEY (sede_origen_id) REFERENCES sede(id_sede), 
    CONSTRAINT fk_movsededestino_sede
    FOREIGN KEY (sede_destino_id) REFERENCES sede(id_sede), 
    CONSTRAINT fk_movdepenorigen_dependencia
    FOREIGN KEY (dependencia_origen_id) REFERENCES dependencia(id_dependencia),
    CONSTRAINT fk_movdependestino_dependencia
    FOREIGN KEY (dependencia_destino_id) REFERENCES dependencia(id_dependencia)
);

PROCEDIMIENTOS:

